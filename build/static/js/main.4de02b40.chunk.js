(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){(function(t){a(47).config({path:t+".env"});e.exports={SQLDB_URL:"http://18.222.53.137:3002"}}).call(this,"/")},32:function(e,t,a){e.exports=a(51)},37:function(e,t,a){},39:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(27),r=a.n(o),c=(a(37),a(6)),s=a(7),i=a(9),m=a(8),u=a(10),d=a(54),p=a(56),h=a(55),f=(a(39),a(52)),E=function(){return l.a.createElement("nav",{className:"navbar navbar-default"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"navbar-header"},l.a.createElement(f.a,{to:"/",className:"navbar-brand"},"Pustakalya"),l.a.createElement(f.a,{to:"/books",className:"navbar-brand"},"Books"),l.a.createElement(f.a,{to:"/authors",className:"navbar-brand"},"Authors"))))},b=a(5),g=a(4),v=a.n(g),y=a(12),N={GET_BOOK:"GET_BOOK",ADD_BOOK:"ADD_BOOK",EDIT_BOOK:"EDIT_BOOK",DELETE_BOOK:"DELETE_BOOK",GET_AUTHOR:"GET_AUTHOR",ADD_AUTHOR:"ADD_AUTHOR",EDIT_AUTHOR:"EDIT_AUTHOR",DELETE_AUTHOR:"DELETE_AUTHOR"},O=a(13),D=a.n(O),C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleDelete=function(e){e.preventDefault(),console.log(e.target.value),console.log(a.props),a.props.deleteAuthors(e.target.value)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(console.log(this.props),null!=this.props)return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("nav",{className:"nav-sidebar"},l.a.createElement("ul",{className:"nav"},l.a.createElement("li",{className:"active"},l.a.createElement(f.a,{to:"/addauthor"},l.a.createElement("span",{className:"glyphicon glyphicon-star"}),"AddAuthor")))),this.props.author.map(function(t){return l.a.createElement("div",{key:t.id},l.a.createElement("div",{className:"row border"},l.a.createElement("div",{className:"table-active table-bordered"},l.a.createElement("img",{className:"media-left",src:"images/".concat(t.img),alt:""})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h4",{className:""},t.Name),l.a.createElement("p",null," ",t.Description)),l.a.createElement("div",{className:"col-md-3 "},l.a.createElement(f.a,{to:"/editauthor/"+t.id,type:"button",value:t.id,className:"btn btn-default btn-lg btn-block"},"Edit"),l.a.createElement("button",{id:"delete",value:t.id,type:"button",className:"btn btn-default btn-lg btn-block",onClick:e.handleDelete},"Delete "))))}))}}]),t}(n.Component),_=Object(b.b)(function(e){return console.log("mapstatetoprops"),console.log(e),{author:e.author_reducer}},{deleteAuthors:function(e){return console.log("delete",e),function(){var t=Object(y.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("delete fetch",e),t.next=3,fetch("".concat(D.a.SQLDB_URL,"/authors/delete/").concat(e),{method:"DELETE"});case 3:a({type:N.DELETE_AUTHOR,payload:e});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(C),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleDelete=function(e){e.preventDefault(),console.log(e.target.value),console.log(a.props),a.props.deleteBooks(e.target.value)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log("book rendering initial"),console.log(this.props),null==this.props.books?0:l.a.createElement("div",{className:"container-fluid"},l.a.createElement("nav",{className:"nav-sidebar"},l.a.createElement("ul",{className:"nav"},l.a.createElement("li",{className:"active"},l.a.createElement(f.a,{to:"/addbook"},l.a.createElement("span",{className:"glyphicon glyphicon-star"}),"AddBook")))),this.props.books.map(function(t){return l.a.createElement("div",{key:t.id},l.a.createElement("div",{className:"row border"},l.a.createElement("div",{className:"table-active table-bordered"},l.a.createElement("img",{className:"media-left",src:"images/".concat(t.img),alt:"placehold.it/350x250"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h4",{className:""},t.Name),l.a.createElement("p",null," ",t.Description)),l.a.createElement("div",{className:"col-md-3"},l.a.createElement(f.a,{to:"/editbook/"+t.id,type:"button",value:t.id,className:"btn btn-default btn-lg btn-block"},"Edit"),l.a.createElement("button",{id:"delete",value:t.id,type:"button",className:"btn btn-default btn-lg btn-block",onClick:e.handleDelete},"Delete "))))}))}}]),t}(n.Component),j=Object(b.b)(function(e,t){return console.log("mapstatetoprops"),console.log(e,t),{books:e.book_reducer}},{deleteBooks:function(e){return console.log("delete",e),function(){var t=Object(y.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("delete fetch",e),t.next=3,fetch("".concat(D.a.SQLDB_URL,"/books/delete/").concat(e),{method:"DELETE"});case 3:a({type:N.DELETE_BOOK,payload:e});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(k),x=a(18),T=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){console.log(),e.preventDefault();a.state;console.log(a.state),a.props.addBooks(a.state)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){console.log("componentdidmount"),console.log(this.props)}},{key:"render",value:function(){return l.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"id: "),l.a.createElement("input",{name:"id",type:"text",className:"form-control",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Name: "),l.a.createElement("input",{name:"Name",type:"text",className:"form-control",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Author:"),l.a.createElement("input",{name:"Author",type:"text",className:"form-control",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Details: "),l.a.createElement("input",{name:"Details",type:"text",className:"form-control",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Genre:"),l.a.createElement("input",{name:"Genre",type:"text",className:"form-control",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Description: "),l.a.createElement("input",{name:"Description",type:"text",className:"form-control",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Image:"),l.a.createElement("input",{name:"img",type:"text",className:"form-control",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Isbn:"),l.a.createElement("input",{name:"isbn",type:"text",className:"form-control",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("button",{type:"Submit",value:"submit",className:"btn btn-primary"},"Add"))}}]),t}(n.Component),A=Object(b.b)(null,{addBooks:function(e){return console.log("add",e),function(){var t=Object(y.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("add fetch",e),t.next=3,fetch("".concat(D.a.SQLDB_URL,"/books/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:a({type:N.ADD_BOOK,payload:e});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(T),B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state;a.props.addAuthors(t)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"id"),l.a.createElement("input",{name:"id",type:"text",className:"form-control",id:"id",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{name:"Name",type:"text",className:"form-control",id:"name",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Born"),l.a.createElement("input",{name:"Born",type:"number",className:"form-control",id:"born",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Details"),l.a.createElement("input",{name:"Details",type:"text",className:"form-control",id:"details",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Died"),l.a.createElement("input",{name:"Died",type:"text",className:"form-control",id:"died",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Description"),l.a.createElement("input",{name:"Description",type:"text",className:"form-control",id:"description",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"image"),l.a.createElement("input",{name:"img",type:"text",className:"form-control",id:"img",placeholder:"Enter name",onChange:this.handleChange})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Add"))}}]),t}(n.Component),w=Object(b.b)(null,{addAuthors:function(e){return console.log("add",e),function(){var t=Object(y.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("add fetch",e),t.next=3,fetch("".concat(D.a.SQLDB_URL,"/authors/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:a({type:N.ADD_AUTHOR,payload:e});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(B),S=a(53),R=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=a.state.edit_element;t[e.target.name]=e.target.value,a.setState({edit_element:t})},a.handleEdit=function(e){e.preventDefault(),console.log(a.state),a.props.editBook(a.state.edit_element),a.setState({redirect:!0})};var n={};return null!==e.books?(n=e.books.filter(function(t){return t.id===+e.match.params.id})[0],console.log(n)):n={id:"",Name:"",Author:"",Details:"",Description:"",Genre:"",img:"",isbn:""},console.log(n),a.state={edit_element:n},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({edit_element:e.books.filter(function(t){return t.id===+e.match.params.id})[0]})}},{key:"render",value:function(){return this.state.redirect?l.a.createElement(S.a,{to:"/books"}):(console.log(this.state.edit_element),l.a.createElement("form",{className:"form",onSubmit:this.handleEdit},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"id: "),l.a.createElement("input",{name:"id",type:"text",className:"form-control",defaultValue:this.state.edit_element.id,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Name: "),l.a.createElement("input",{name:"Name",type:"text",className:"form-control",defaultValue:this.state.edit_element.Name,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Author:"),l.a.createElement("input",{name:"Author",type:"text",className:"form-control",defaultValue:this.state.edit_element.a,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Details: "),l.a.createElement("input",{name:"Details",type:"text",className:"form-control",defaultValue:this.state.edit_element.Details,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Genre:"),l.a.createElement("input",{name:"Genre",type:"text",className:"form-control",defaultValue:this.state.edit_element.Genre,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Description: "),l.a.createElement("input",{name:"Description",type:"text",className:"form-control",defaultValue:this.state.edit_element.Description,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Image:"),l.a.createElement("input",{name:"img",type:"text",className:"form-control",defaultValue:this.state.edit_element.img,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Isbn:"),l.a.createElement("input",{name:"isbn",type:"text",className:"form-control",defaultValue:this.state.edit_element.isbn,onChange:this.handleChange})),l.a.createElement("button",{type:"Submit",value:"submit",className:"btn btn-primary"},"Edit")))}}]),t}(n.Component),L=Object(b.b)(function(e){return console.log("mapstatetoprops"),console.log(e),{books:e.book_reducer}},{editBook:function(e){return console.log("edit",e.id),function(){var t=Object(y.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("edit fetch",e),t.next=3,fetch("http://localhost:3002/books/edit/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:a({type:N.EDIT_BOOK,payload:e});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(R),U=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=a.state.edit_element;t[e.target.name]=e.target.value,a.setState({edit_element:t})},a.handleEdit=function(e){e.preventDefault(),a.props.editAuthor(a.state.edit_element),a.setState({redirect:!0})};var n={};return null!==e.author?(n=e.author.filter(function(t){return t.id===+e.match.params.id})[0],console.log(n)):n={Name:"",Born:"",Details:"",Description:"",Died:"",img:""},console.log(n),a.state={edit_element:n},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({edit_element:e.author.filter(function(t){return t.id===+e.match.params.id})[0]})}},{key:"render",value:function(){return this.state.redirect?l.a.createElement(S.a,{to:"/authors"}):l.a.createElement("form",{className:"form",onSubmit:this.handleEdit},l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Name: "),l.a.createElement("input",{name:"Name",type:"text",className:"form-control",defaultValue:this.state.edit_element.Name,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Born:"),l.a.createElement("input",{name:"Born",type:"text",className:"form-control",defaultValue:this.state.edit_element.Born,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Details: "),l.a.createElement("input",{name:"Details",type:"text",className:"form-control",defaultValue:this.state.edit_element.Details,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Died:"),l.a.createElement("input",{name:"Died",type:"text",className:"form-control",defaultValue:this.state.edit_element.Died,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Description: "),l.a.createElement("input",{name:"Description",type:"text",className:"form-control",defaultValue:this.state.edit_element.Description,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-sm-6"},l.a.createElement("label",null,"Image:"),l.a.createElement("input",{name:"img",type:"text",className:"form-control",defaultValue:this.state.edit_element.img,onChange:this.handleChange})),l.a.createElement("button",{type:"Submit",value:"submit",className:"btn btn-primary"},"Edit"))}}]),t}(n.Component),H=Object(b.b)(function(e){return console.log("mapstatetoprops"),console.log(e),{author:e.author_reducer}},{editAuthor:function(e){return console.log("edit",e.id),function(){var t=Object(y.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("edit fetch",e),t.next=3,fetch("".concat(D.a.SQLDB_URL,"/authors/edit/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:a({type:N.EDIT_AUTHOR,payload:e});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(U),K=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("app"),this.props.getBooks(),this.props.getAuthors()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(d.a,null,l.a.createElement("div",null,l.a.createElement(E,null),l.a.createElement(p.a,null,l.a.createElement(h.a,{path:"/books",component:j}),l.a.createElement(h.a,{path:"/editbook/:id",component:L}),l.a.createElement(h.a,{path:"/addbook",component:A}),l.a.createElement(h.a,{path:"/authors",component:_}),l.a.createElement(h.a,{path:"/editauthor/:id",component:H}),l.a.createElement(h.a,{path:"/addauthor",component:w})))))}}]),t}(n.Component),G=Object(b.b)(null,{getBooks:function(){return console.log("action"),function(){var e=Object(y.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D.a.SQLDB_URL,"/books"));case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,console.log(n),t({type:N.GET_BOOK,payload:n});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},getAuthors:function(){return function(){var e=Object(y.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D.a.SQLDB_URL,"/authors"));case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,t({type:N.GET_AUTHOR,payload:n});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}})(K);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(14),V=a(16);console.log("reducer book");var Q=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(console.log("inside reducer",n.type),n.type){case N.GET_BOOK:return console.log("getbook",n.payload),n.payload;case N.ADD_BOOK:return(e=console).log.apply(e,["addbook"].concat(Object(V.a)(a),[n.payload])),[].concat(Object(V.a)(a),[n.payload]);case N.DELETE_BOOK:return a.filter(function(e){return e.id!==+n.payload});case N.EDIT_BOOK:(t=console).log.apply(t,["editbook"].concat(Object(V.a)(a),[n.payload]));var l=a.map(function(e){return e.id===+n.payload.id&&(console.log(e.id),e=n.payload),e});return console.log("editbooks",l),l;default:return a}};console.log("reducer author");var P=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(console.log("inside reducer",n.type),n.type){case N.GET_AUTHOR:return console.log("getauthor",n.payload),n.payload;case N.ADD_AUTHOR:return(e=console).log.apply(e,["addauthor"].concat(Object(V.a)(a),[n.payload])),[].concat(Object(V.a)(a),[n.payload]);case N.DELETE_AUTHOR:return a.filter(function(e){return e.id!==+n.payload});case N.EDIT_AUTHOR:(t=console).log.apply(t,["editauthor"].concat(Object(V.a)(a),[n.payload]));var l=a.map(function(e){return e.id===+n.payload.id&&(console.log(e.id),e=n.payload),e});return console.log("editauthors",l),l;default:return a}};console.log("combine");var J=Object(I.combineReducers)({book_reducer:Q,author_reducer:P}),W=a(30),M=a(31);console.log("index111");var $=Object(I.createStore)(J,Object(M.composeWithDevTools)({trace:!0})(Object(I.applyMiddleware)(W.a)));console.log("index"+$),r.a.render(l.a.createElement(b.a,{store:$},l.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.4de02b40.chunk.js.map